<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Working Talent Library - Edit User</title>

  <!-- Bootstrap CSS Import -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
    crossorigin="anonymous" />
  <!-- General CSS -->
  <link rel="stylesheet" href="../../static/style.css" th:href="@{../../style.css}" />
</head>
<body>

  <!--______________navigation bar______________-->
  <nav class="navbar navbar-extend-sm navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" >
        <img src="../static/images/wt-logo.svg" title="Logo" alt="Logo" th:src="@{../../images/wt-logo.svg}" />
      </a>
      <form th:action = "@{/logout}" method = "post">
        <input type = "submit" value = "Sign Out" />
      </form>
    </div>
  </nav>
  <nav>
    <div class="container">
      <ul>
        <li><a href="/books">WT library</a></li>
        <li><a href="/users">Users</a></li>
        <li><a href="/reservations">Reservations</a></li>
        <li><a href="/users/add-user">Add user</a></li>
        <li><a href="/books/create">Add book</a></li>
      </ul>   
    </div>
  </nav>
  <!--______________end navigation bar______________-->

  <!-- ______________Main page view______________ -->
  <!-- <div class="container">
    <br>
    <h1>Edit User</h1>

    Update user function
    <form action="#" th:action="@{/users/edit-user/{id}(id=${users.user_id})}" th:object="${users}" method="post">
      <div class="visually-hidden">
        <label for="user_id">User ID</label>
        <input type="text" th:field="*{user_id}" id="user_id" placeholder="User ID" />
      </div>

          <table class="table">
            <thead>
              <br>
              <h2>Loaned:</h2>
              <tr>
                <th>Book id</th>
                <th>Title</th>
                <th>Author</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="books : ${books}">
                <td th:text="${books.book_id}"></td>
                <td th:text="${books.title}"></td>
                <td th:text="${books.author}"></td>
              </tr>
              
            </tbody>
          </table>

            <table class="table">
              <thead>
                <br>
                <tr>
                  <th>Book id</th>
                  <th>Copy id</th>
                  <th>User id</th>
                </tr>
              </thead>
              <tbody>
                <tr th:each="copies : ${copies}">
                  <td th:text="${copies.copyPkId.bookId}"></td>
                  <td th:text="${copies.copyPkId.copyId}"></td>
                  <td th:text="${copies.userId}"></td>
                  <div th:switch="${copies.userId}">
                   <td th:case="0"></td>
                   <td th:case="*">
                   <a th:href="@{/copies/withdraw/{id1}/{id2}/{id3} (id1=${copies.copyPkId.bookId}, id2=${copies.copyPkId.copyId}, id3=${copies.userId})}">withdraw</a>
                  </td>
                  </div>
                </tr>
              </tbody>
            </table>

            <table class="table">
              <thead>
                <br>
                <h2>Reserved:</h2>
                <tr>
                  <th>Book id</th>
                  <th>Title</th>
                  <th>Author</th>
                </tr>
              </thead>
              <tbody>
                <tr th:each="books : ${reservedBooks}">
                  <td th:text="${books.book_id}"></td>
                  <td th:text="${books.title}"></td>
                  <td th:text="${books.author}"></td>
                </tr>

                <table class="table">
                  <thead>
                    <br>
                    <tr>
                      <th>Book id</th>
                      <th>Copy id</th>
                      <th>Loaned by user id</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr th:each="copies : ${reservedCopies}">
                      <td th:text="${copies.copyPkId.bookId}"></td>
                      <td th:text="${copies.copyPkId.copyId}"></td>
                      <td th:text="${copies.userId}"></td>
                      <div th:switch="${copies.userId}">
                        <td th:case="0">
                       <a th:href="@{/copies/loan/{id1}/{id2}/{id3} (id1=${copies.copyPkId.bookId}, id2=${copies.copyPkId.copyId}, id3=${copies.userId})}">loan</a>
                      </td> 
                      </div>
                    </tr>
                  </tbody>
                </table>      
  </div> -->

  </section>
      <label for="first_name">First Name: </label>
      <input type="text" th:field="*{first_name}" id="first_name" placeholder="First Name" />

      <label for="last_name">Last Name: </label>
      <input type="text" th:field="*{last_name}" id="last_name" placeholder="Last Name" />

      <label for="email">Email: </label>
      <input type="text" th:field="*{email}" id="email" placeholder="Email" />

      <input type="submit" value="Update User" />
      <a th:href="@{/users/delete-user/{id}(id=${users.user_id})}">Delete</a>
    </form>
  </div>
  <!-- ______________End of main page view______________ -->

  <!-- Javascript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
    integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
    crossorigin="anonymous">
  </script>
</body>
</html>
